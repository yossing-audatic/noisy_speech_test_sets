# WHAMVox Test Set


This test set is a mix of speech files from the VoxCeleb2 [1] test set and the
WHAM! [2] noise recordings test set.

This repository contains files, notebooks and script necessary to generate the 
`WHAMVox` test datasets used in 
_**"Restoring speech intelligibility for hearing aid users using deep learning"**_.

The `analyses.ipynb` Notebook analyses raw speech and noise data in order to 
select a subset of speech and noise files which we want to use for the dataset 
generation.

The notebook also contains a script that generates a CSV file containing a list 
of paired speech and noise files (_WHAMVox_test.csv_).

This CSV file is used by the `generate_WHAMVox_test.py` script to generate the actual 
evaluation set. Variants of the evaluation set can be generated by specifying 
additional parameters (such as SNR loc and scale) when running this script. 
Further information about additional parameters that can be passed to the script can be seen by calling:
```python3 generate_WHAMVox_testset.py --help``` from the command line.


## Steps to reproduce the _WHAMVox easy_ and _hard_ test sets used in _**"Restoring speech intelligibility for hearing aid users using deep learning"**_: 

1. Download the speech and noise datasets from [1] and [2] (for VoxCeleb, you only need to download the test part) and unzip.
2. Install the pip requirements listed below
3. To create the _WHAMVox easy_ dataset call the _generate_WHAMVox_testset.py_ python script from the command line, 
specifying paths to the downloaded files/folders without modifying the default SNR distribution parameters set in _WHAMVox_test.csv_.
4. To  create the _WHAMVox hard_ dataset, call _generate_WHAMVox_testset.py_ as before, additionally setting ```snr_distribution_loc=0``` and
```snr_distribution_scale=7```.

## Requirements:

- We used Python3.8 to run _generate_WHAMVox_testset.py_
- All requirements needed to run _generate_WHAMVox_testset.py_ are in the requirements.txt 

## References

[1] https://www.robots.ox.ac.uk/~vgg/data/voxceleb/vox2.html

[2] http://wham.whisper.ai/
